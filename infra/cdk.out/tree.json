{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.236.0"},"children":{"PenguinHealthAdminUi":{"id":"PenguinHealthAdminUi","path":"PenguinHealthAdminUi","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.236.0"},"children":{"AdminUserPool":{"id":"AdminUserPool","path":"PenguinHealthAdminUi/AdminUserPool","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPool","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"PenguinHealthAdminUi/AdminUserPool/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPool","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPool","aws:cdk:cloudformation:props":{"accountRecoverySetting":{"recoveryMechanisms":[{"name":"verified_email","priority":1}]},"adminCreateUserConfig":{"allowAdminCreateUserOnly":true},"autoVerifiedAttributes":["email"],"emailVerificationMessage":"The verification code to your new account is {####}","emailVerificationSubject":"Verify your new account","policies":{"passwordPolicy":{"minimumLength":12,"requireLowercase":true,"requireUppercase":true,"requireNumbers":true,"requireSymbols":true}},"smsVerificationMessage":"The verification code to your new account is {####}","usernameAttributes":["email"],"userPoolName":"penguin-health-admin-pool","verificationMessageTemplate":{"defaultEmailOption":"CONFIRM_WITH_CODE","emailMessage":"The verification code to your new account is {####}","emailSubject":"Verify your new account","smsMessage":"The verification code to your new account is {####}"}}}},"AdminAppClient":{"id":"AdminAppClient","path":"PenguinHealthAdminUi/AdminUserPool/AdminAppClient","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPoolClient","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"PenguinHealthAdminUi/AdminUserPool/AdminAppClient/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPoolClient","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPoolClient","aws:cdk:cloudformation:props":{"accessTokenValidity":60,"allowedOAuthFlows":["implicit","code"],"allowedOAuthFlowsUserPoolClient":true,"allowedOAuthScopes":["profile","phone","email","openid","aws.cognito.signin.user.admin"],"callbackUrLs":["https://example.com"],"clientName":"penguin-health-admin-app","explicitAuthFlows":["ALLOW_USER_SRP_AUTH","ALLOW_REFRESH_TOKEN_AUTH"],"idTokenValidity":60,"refreshTokenValidity":43200,"supportedIdentityProviders":["COGNITO"],"tokenValidityUnits":{"idToken":"minutes","accessToken":"minutes","refreshToken":"minutes"},"userPoolId":{"Ref":"AdminUserPoolD0AF18CF"}}}}}}}},"AdminsGroup":{"id":"AdminsGroup","path":"PenguinHealthAdminUi/AdminsGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPoolGroup","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPoolGroup","aws:cdk:cloudformation:props":{"description":"Admin users with full access to organization configuration","groupName":"Admins","userPoolId":{"Ref":"AdminUserPoolD0AF18CF"}}}},"OrgConfigTable":{"id":"OrgConfigTable","path":"PenguinHealthAdminUi/OrgConfigTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.TableBase","version":"2.236.0"}},"AdminApiFunction":{"id":"AdminApiFunction","path":"PenguinHealthAdminUi/AdminApiFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.236.0"},"children":{"ServiceRole":{"id":"ServiceRole","path":"PenguinHealthAdminUi/AdminApiFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"PenguinHealthAdminUi/AdminApiFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PenguinHealthAdminUi/AdminApiFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"PenguinHealthAdminUi/AdminApiFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:aws:dynamodb:us-east-1:",{"Ref":"AWS::AccountId"},":table/penguin-health-org-config"]]}},{"Action":["dynamodb:GetRecords","dynamodb:GetShardIterator"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:aws:dynamodb:us-east-1:",{"Ref":"AWS::AccountId"},":table/penguin-health-org-config"]]}},{"Action":["dynamodb:Query","dynamodb:Scan","dynamodb:GetItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:aws:dynamodb:us-east-1:",{"Ref":"AWS::AccountId"},":table/penguin-health-org-config/index/*"]]}}],"Version":"2012-10-17"},"policyName":"AdminApiFunctionServiceRoleDefaultPolicy1CFB0CA4","roles":[{"Ref":"AdminApiFunctionServiceRole8CB2DBB5"}]}}}}}}},"Code":{"id":"Code","path":"PenguinHealthAdminUi/AdminApiFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.236.0"},"children":{"Stage":{"id":"Stage","path":"PenguinHealthAdminUi/AdminApiFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.236.0"}},"AssetBucket":{"id":"AssetBucket","path":"PenguinHealthAdminUi/AdminApiFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.236.0"}}}},"Resource":{"id":"Resource","path":"PenguinHealthAdminUi/AdminApiFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-us-east-1"},"s3Key":"2ffed8161c0f3f9ae63acb5b5ae55905321fc139d43ee58b7059839362986588.zip"},"environment":{"variables":{"DYNAMODB_TABLE":"penguin-health-org-config","COGNITO_USER_POOL_ID":{"Ref":"AdminUserPoolD0AF18CF"}}},"functionName":"penguin-health-admin-api","handler":"admin_api.lambda_handler","memorySize":256,"role":{"Fn::GetAtt":["AdminApiFunctionServiceRole8CB2DBB5","Arn"]},"runtime":"python3.14","timeout":30}}}}},"AdminHttpApi":{"id":"AdminHttpApi","path":"PenguinHealthAdminUi/AdminHttpApi","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.HttpApi","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"PenguinHealthAdminUi/AdminHttpApi/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnApi","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Api","aws:cdk:cloudformation:props":{"corsConfiguration":{"allowHeaders":["Authorization","Content-Type"],"allowMethods":["GET","PUT","POST","DELETE","OPTIONS"],"allowOrigins":["*"],"maxAge":3600},"name":"penguin-health-admin-api","protocolType":"HTTP"}}},"DefaultStage":{"id":"DefaultStage","path":"PenguinHealthAdminUi/AdminHttpApi/DefaultStage","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.HttpStage","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"PenguinHealthAdminUi/AdminHttpApi/DefaultStage/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnStage","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Stage","aws:cdk:cloudformation:props":{"apiId":{"Ref":"AdminHttpApiA89DC2A8"},"autoDeploy":true,"stageName":"$default"}}}}},"GET--api--organizations":{"id":"GET--api--organizations","path":"PenguinHealthAdminUi/AdminHttpApi/GET--api--organizations","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.HttpRoute","version":"2.236.0"},"children":{"AdminApiIntegration":{"id":"AdminApiIntegration","path":"PenguinHealthAdminUi/AdminHttpApi/GET--api--organizations/AdminApiIntegration","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.HttpIntegration","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"PenguinHealthAdminUi/AdminHttpApi/GET--api--organizations/AdminApiIntegration/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnIntegration","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Integration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"AdminHttpApiA89DC2A8"},"integrationType":"AWS_PROXY","integrationUri":{"Fn::GetAtt":["AdminApiFunction0560532A","Arn"]},"payloadFormatVersion":"2.0"}}}}},"AdminApiIntegration-Permission":{"id":"AdminApiIntegration-Permission","path":"PenguinHealthAdminUi/AdminHttpApi/GET--api--organizations/AdminApiIntegration-Permission","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AdminApiFunction0560532A","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:",{"Ref":"AWS::AccountId"},":",{"Ref":"AdminHttpApiA89DC2A8"},"/*/*/api/organizations"]]}}}},"Resource":{"id":"Resource","path":"PenguinHealthAdminUi/AdminHttpApi/GET--api--organizations/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnRoute","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Route","aws:cdk:cloudformation:props":{"apiId":{"Ref":"AdminHttpApiA89DC2A8"},"authorizationType":"JWT","authorizerId":{"Ref":"AdminHttpApiCognitoAuthorizerFA53E77D"},"routeKey":"GET /api/organizations","target":{"Fn::Join":["",["integrations/",{"Ref":"AdminHttpApiGETapiorganizationsAdminApiIntegrationBD9C9A54"}]]}}}}}},"CognitoAuthorizer":{"id":"CognitoAuthorizer","path":"PenguinHealthAdminUi/AdminHttpApi/CognitoAuthorizer","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.HttpAuthorizer","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"PenguinHealthAdminUi/AdminHttpApi/CognitoAuthorizer/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnAuthorizer","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Authorizer","aws:cdk:cloudformation:props":{"apiId":{"Ref":"AdminHttpApiA89DC2A8"},"authorizerType":"JWT","identitySource":["$request.header.Authorization"],"jwtConfiguration":{"audience":[{"Ref":"AdminUserPoolAdminAppClient43C1FAD5"}],"issuer":{"Fn::Join":["",["https://cognito-idp.us-east-1.amazonaws.com/",{"Ref":"AdminUserPoolD0AF18CF"}]]}},"name":"CognitoAuthorizer"}}}}},"GET--api--organizations--{orgId}":{"id":"GET--api--organizations--{orgId}","path":"PenguinHealthAdminUi/AdminHttpApi/GET--api--organizations--{orgId}","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.HttpRoute","version":"2.236.0"},"children":{"AdminApiIntegration-Permission":{"id":"AdminApiIntegration-Permission","path":"PenguinHealthAdminUi/AdminHttpApi/GET--api--organizations--{orgId}/AdminApiIntegration-Permission","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AdminApiFunction0560532A","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:",{"Ref":"AWS::AccountId"},":",{"Ref":"AdminHttpApiA89DC2A8"},"/*/*/api/organizations/{orgId}"]]}}}},"Resource":{"id":"Resource","path":"PenguinHealthAdminUi/AdminHttpApi/GET--api--organizations--{orgId}/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnRoute","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Route","aws:cdk:cloudformation:props":{"apiId":{"Ref":"AdminHttpApiA89DC2A8"},"authorizationType":"JWT","authorizerId":{"Ref":"AdminHttpApiCognitoAuthorizerFA53E77D"},"routeKey":"GET /api/organizations/{orgId}","target":{"Fn::Join":["",["integrations/",{"Ref":"AdminHttpApiGETapiorganizationsAdminApiIntegrationBD9C9A54"}]]}}}}}},"GET--api--organizations--{orgId}--rules":{"id":"GET--api--organizations--{orgId}--rules","path":"PenguinHealthAdminUi/AdminHttpApi/GET--api--organizations--{orgId}--rules","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.HttpRoute","version":"2.236.0"},"children":{"AdminApiIntegration-Permission":{"id":"AdminApiIntegration-Permission","path":"PenguinHealthAdminUi/AdminHttpApi/GET--api--organizations--{orgId}--rules/AdminApiIntegration-Permission","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AdminApiFunction0560532A","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:",{"Ref":"AWS::AccountId"},":",{"Ref":"AdminHttpApiA89DC2A8"},"/*/*/api/organizations/{orgId}/rules"]]}}}},"Resource":{"id":"Resource","path":"PenguinHealthAdminUi/AdminHttpApi/GET--api--organizations--{orgId}--rules/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnRoute","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Route","aws:cdk:cloudformation:props":{"apiId":{"Ref":"AdminHttpApiA89DC2A8"},"authorizationType":"JWT","authorizerId":{"Ref":"AdminHttpApiCognitoAuthorizerFA53E77D"},"routeKey":"GET /api/organizations/{orgId}/rules","target":{"Fn::Join":["",["integrations/",{"Ref":"AdminHttpApiGETapiorganizationsAdminApiIntegrationBD9C9A54"}]]}}}}}},"GET--api--organizations--{orgId}--rules--{ruleId}":{"id":"GET--api--organizations--{orgId}--rules--{ruleId}","path":"PenguinHealthAdminUi/AdminHttpApi/GET--api--organizations--{orgId}--rules--{ruleId}","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.HttpRoute","version":"2.236.0"},"children":{"AdminApiIntegration-Permission":{"id":"AdminApiIntegration-Permission","path":"PenguinHealthAdminUi/AdminHttpApi/GET--api--organizations--{orgId}--rules--{ruleId}/AdminApiIntegration-Permission","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AdminApiFunction0560532A","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:",{"Ref":"AWS::AccountId"},":",{"Ref":"AdminHttpApiA89DC2A8"},"/*/*/api/organizations/{orgId}/rules/{ruleId}"]]}}}},"Resource":{"id":"Resource","path":"PenguinHealthAdminUi/AdminHttpApi/GET--api--organizations--{orgId}--rules--{ruleId}/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnRoute","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Route","aws:cdk:cloudformation:props":{"apiId":{"Ref":"AdminHttpApiA89DC2A8"},"authorizationType":"JWT","authorizerId":{"Ref":"AdminHttpApiCognitoAuthorizerFA53E77D"},"routeKey":"GET /api/organizations/{orgId}/rules/{ruleId}","target":{"Fn::Join":["",["integrations/",{"Ref":"AdminHttpApiGETapiorganizationsAdminApiIntegrationBD9C9A54"}]]}}}}}},"PUT--api--organizations--{orgId}--rules--{ruleId}":{"id":"PUT--api--organizations--{orgId}--rules--{ruleId}","path":"PenguinHealthAdminUi/AdminHttpApi/PUT--api--organizations--{orgId}--rules--{ruleId}","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.HttpRoute","version":"2.236.0"},"children":{"AdminApiIntegration-Permission":{"id":"AdminApiIntegration-Permission","path":"PenguinHealthAdminUi/AdminHttpApi/PUT--api--organizations--{orgId}--rules--{ruleId}/AdminApiIntegration-Permission","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AdminApiFunction0560532A","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:",{"Ref":"AWS::AccountId"},":",{"Ref":"AdminHttpApiA89DC2A8"},"/*/*/api/organizations/{orgId}/rules/{ruleId}"]]}}}},"Resource":{"id":"Resource","path":"PenguinHealthAdminUi/AdminHttpApi/PUT--api--organizations--{orgId}--rules--{ruleId}/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnRoute","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Route","aws:cdk:cloudformation:props":{"apiId":{"Ref":"AdminHttpApiA89DC2A8"},"authorizationType":"JWT","authorizerId":{"Ref":"AdminHttpApiCognitoAuthorizerFA53E77D"},"routeKey":"PUT /api/organizations/{orgId}/rules/{ruleId}","target":{"Fn::Join":["",["integrations/",{"Ref":"AdminHttpApiGETapiorganizationsAdminApiIntegrationBD9C9A54"}]]}}}}}},"POST--api--organizations--{orgId}--rules":{"id":"POST--api--organizations--{orgId}--rules","path":"PenguinHealthAdminUi/AdminHttpApi/POST--api--organizations--{orgId}--rules","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.HttpRoute","version":"2.236.0"},"children":{"AdminApiIntegration-Permission":{"id":"AdminApiIntegration-Permission","path":"PenguinHealthAdminUi/AdminHttpApi/POST--api--organizations--{orgId}--rules/AdminApiIntegration-Permission","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AdminApiFunction0560532A","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:",{"Ref":"AWS::AccountId"},":",{"Ref":"AdminHttpApiA89DC2A8"},"/*/*/api/organizations/{orgId}/rules"]]}}}},"Resource":{"id":"Resource","path":"PenguinHealthAdminUi/AdminHttpApi/POST--api--organizations--{orgId}--rules/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnRoute","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Route","aws:cdk:cloudformation:props":{"apiId":{"Ref":"AdminHttpApiA89DC2A8"},"authorizationType":"JWT","authorizerId":{"Ref":"AdminHttpApiCognitoAuthorizerFA53E77D"},"routeKey":"POST /api/organizations/{orgId}/rules","target":{"Fn::Join":["",["integrations/",{"Ref":"AdminHttpApiGETapiorganizationsAdminApiIntegrationBD9C9A54"}]]}}}}}},"GET--api--organizations--{orgId}--rules-config":{"id":"GET--api--organizations--{orgId}--rules-config","path":"PenguinHealthAdminUi/AdminHttpApi/GET--api--organizations--{orgId}--rules-config","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.HttpRoute","version":"2.236.0"},"children":{"AdminApiIntegration-Permission":{"id":"AdminApiIntegration-Permission","path":"PenguinHealthAdminUi/AdminHttpApi/GET--api--organizations--{orgId}--rules-config/AdminApiIntegration-Permission","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AdminApiFunction0560532A","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:",{"Ref":"AWS::AccountId"},":",{"Ref":"AdminHttpApiA89DC2A8"},"/*/*/api/organizations/{orgId}/rules-config"]]}}}},"Resource":{"id":"Resource","path":"PenguinHealthAdminUi/AdminHttpApi/GET--api--organizations--{orgId}--rules-config/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnRoute","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Route","aws:cdk:cloudformation:props":{"apiId":{"Ref":"AdminHttpApiA89DC2A8"},"authorizationType":"JWT","authorizerId":{"Ref":"AdminHttpApiCognitoAuthorizerFA53E77D"},"routeKey":"GET /api/organizations/{orgId}/rules-config","target":{"Fn::Join":["",["integrations/",{"Ref":"AdminHttpApiGETapiorganizationsAdminApiIntegrationBD9C9A54"}]]}}}}}},"PUT--api--organizations--{orgId}--rules-config":{"id":"PUT--api--organizations--{orgId}--rules-config","path":"PenguinHealthAdminUi/AdminHttpApi/PUT--api--organizations--{orgId}--rules-config","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.HttpRoute","version":"2.236.0"},"children":{"AdminApiIntegration-Permission":{"id":"AdminApiIntegration-Permission","path":"PenguinHealthAdminUi/AdminHttpApi/PUT--api--organizations--{orgId}--rules-config/AdminApiIntegration-Permission","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AdminApiFunction0560532A","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:",{"Ref":"AWS::AccountId"},":",{"Ref":"AdminHttpApiA89DC2A8"},"/*/*/api/organizations/{orgId}/rules-config"]]}}}},"Resource":{"id":"Resource","path":"PenguinHealthAdminUi/AdminHttpApi/PUT--api--organizations--{orgId}--rules-config/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnRoute","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Route","aws:cdk:cloudformation:props":{"apiId":{"Ref":"AdminHttpApiA89DC2A8"},"authorizationType":"JWT","authorizerId":{"Ref":"AdminHttpApiCognitoAuthorizerFA53E77D"},"routeKey":"PUT /api/organizations/{orgId}/rules-config","target":{"Fn::Join":["",["integrations/",{"Ref":"AdminHttpApiGETapiorganizationsAdminApiIntegrationBD9C9A54"}]]}}}}}}}},"FrontendBucket":{"id":"FrontendBucket","path":"PenguinHealthAdminUi/FrontendBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"PenguinHealthAdminUi/FrontendBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketEncryption":{"serverSideEncryptionConfiguration":[{"serverSideEncryptionByDefault":{"sseAlgorithm":"AES256"}}]},"bucketName":"penguin-health-admin-ui","publicAccessBlockConfiguration":{"blockPublicAcls":true,"blockPublicPolicy":true,"ignorePublicAcls":true,"restrictPublicBuckets":true},"versioningConfiguration":{"status":"Enabled"}}}},"Policy":{"id":"Policy","path":"PenguinHealthAdminUi/FrontendBucket/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"PenguinHealthAdminUi/FrontendBucket/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"FrontendBucketEFE2E19C"},"policyDocument":{"Statement":[{"Action":"s3:GetObject","Condition":{"StringEquals":{"AWS:SourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":cloudfront::",{"Ref":"AWS::AccountId"},":distribution/",{"Ref":"AdminDistribution4E89F8C0"}]]}}},"Effect":"Allow","Principal":{"Service":"cloudfront.amazonaws.com"},"Resource":{"Fn::Join":["",[{"Fn::GetAtt":["FrontendBucketEFE2E19C","Arn"]},"/*"]]}}],"Version":"2012-10-17"}}}}}}}},"AdminDistribution":{"id":"AdminDistribution","path":"PenguinHealthAdminUi/AdminDistribution","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.Distribution","version":"2.236.0"},"children":{"Origin1":{"id":"Origin1","path":"PenguinHealthAdminUi/AdminDistribution/Origin1","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"S3OriginAccessControl":{"id":"S3OriginAccessControl","path":"PenguinHealthAdminUi/AdminDistribution/Origin1/S3OriginAccessControl","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.S3OriginAccessControl","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"PenguinHealthAdminUi/AdminDistribution/Origin1/S3OriginAccessControl/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnOriginAccessControl","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::OriginAccessControl","aws:cdk:cloudformation:props":{"originAccessControlConfig":{"name":"PenguinHealthAdminUiAdminDisOrigin1S3OriginAccessControl15DFDC1F","signingBehavior":"always","signingProtocol":"sigv4","originAccessControlOriginType":"s3"}}}}}}}},"Origin2":{"id":"Origin2","path":"PenguinHealthAdminUi/AdminDistribution/Origin2","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"}},"Resource":{"id":"Resource","path":"PenguinHealthAdminUi/AdminDistribution/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnDistribution","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::Distribution","aws:cdk:cloudformation:props":{"distributionConfig":{"enabled":true,"origins":[{"domainName":{"Fn::GetAtt":["FrontendBucketEFE2E19C","RegionalDomainName"]},"id":"PenguinHealthAdminUiAdminDistributionOrigin13D092428","s3OriginConfig":{"originAccessIdentity":""},"originAccessControlId":{"Fn::GetAtt":["AdminDistributionOrigin1S3OriginAccessControl949F3123","Id"]}},{"domainName":{"Fn::Join":["",[{"Ref":"AdminHttpApiA89DC2A8"},".execute-api.us-east-1.amazonaws.com"]]},"id":"PenguinHealthAdminUiAdminDistributionOrigin275091D6C","customOriginConfig":{"originSslProtocols":["TLSv1.2"],"originProtocolPolicy":"https-only"}}],"defaultCacheBehavior":{"pathPattern":"*","targetOriginId":"PenguinHealthAdminUiAdminDistributionOrigin13D092428","cachePolicyId":"658327ea-f89d-4fab-a63d-7e88639e58f6","compress":true,"viewerProtocolPolicy":"redirect-to-https"},"cacheBehaviors":[{"pathPattern":"/api/*","targetOriginId":"PenguinHealthAdminUiAdminDistributionOrigin275091D6C","allowedMethods":["GET","HEAD","OPTIONS","PUT","PATCH","POST","DELETE"],"cachePolicyId":"4135ea2d-6df8-44a3-9df3-4b5a84be39ad","compress":true,"originRequestPolicyId":"b689b0a8-53d0-40ab-baf2-68738e2966ac","viewerProtocolPolicy":"redirect-to-https"}],"customErrorResponses":[{"errorCachingMinTtl":0,"errorCode":403,"responseCode":200,"responsePagePath":"/index.html"},{"errorCachingMinTtl":0,"errorCode":404,"responseCode":200,"responsePagePath":"/index.html"}],"defaultRootObject":"index.html","httpVersion":"http2","ipv6Enabled":true}}}}}},"UserPoolId":{"id":"UserPoolId","path":"PenguinHealthAdminUi/UserPoolId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"UserPoolClientId":{"id":"UserPoolClientId","path":"PenguinHealthAdminUi/UserPoolClientId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"ApiUrl":{"id":"ApiUrl","path":"PenguinHealthAdminUi/ApiUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"CloudFrontUrl":{"id":"CloudFrontUrl","path":"PenguinHealthAdminUi/CloudFrontUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"FrontendBucketName":{"id":"FrontendBucketName","path":"PenguinHealthAdminUi/FrontendBucketName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"DistributionId":{"id":"DistributionId","path":"PenguinHealthAdminUi/DistributionId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"PenguinHealthAdminUi/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"Default":{"id":"Default","path":"PenguinHealthAdminUi/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.236.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"PenguinHealthAdminUi/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.236.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"PenguinHealthAdminUi/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.236.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"}}}}}